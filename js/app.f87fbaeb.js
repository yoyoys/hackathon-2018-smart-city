(function(t){function e(e){for(var n,r,o=e[0],l=e[1],c=e[2],d=0,f=[];d<o.length;d++)r=o[d],s[r]&&f.push(s[r][0]),s[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(f.length)f.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},s={app:0},i=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"0255":function(t,e,a){},"0641":function(t,e,a){"use strict";var n=a("e849"),s=a.n(n);s.a},"069e":function(t,e,a){},"0e17":function(t,e,a){},1420:function(t,e,a){"use strict";var n=a("9dbe"),s=a.n(n);s.a},"1ed0":function(t,e,a){},2828:function(t,e,a){"use strict";var n=a("8085"),s=a.n(n);s.a},"34b1":function(t,e,a){"use strict";var n=a("96ac"),s=a.n(n);s.a},4200:function(t,e,a){"use strict";var n=a("e21e"),s=a.n(n);s.a},4678:function(t,e,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(t){var e=i(t);return a(e)}function i(t){var e=n[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}s.keys=function(){return Object.keys(n)},s.resolve=i,t.exports=s,s.id="4678"},"547e":function(t,e,a){"use strict";var n=a("8759"),s=a.n(n);s.a},"5e1f":function(t,e,a){},"5f74":function(t,e,a){},"60d8":function(t,e,a){"use strict";var n=a("9579"),s=a.n(n);s.a},6576:function(t,e,a){"use strict";var n=a("7831"),s=a.n(n);s.a},7831:function(t,e,a){},"7aab":function(t,e,a){},"7cc5":function(t,e,a){"use strict";var n=a("5e1f"),s=a.n(n);s.a},"7da6":function(t,e,a){"use strict";var n=a("0255"),s=a.n(n);s.a},8085:function(t,e,a){},8117:function(t,e,a){},8759:function(t,e,a){},"94e9":function(t,e,a){"use strict";var n=a("5f74"),s=a.n(n);s.a},9579:function(t,e,a){},"96ac":function(t,e,a){},"98a4":function(t,e,a){"use strict";var n=a("069e"),s=a.n(n);s.a},"9dbe":function(t,e,a){},a1fb:function(t,e,a){"use strict";var n=a("7aab"),s=a.n(n);s.a},cd49:function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var n=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],r=(a("96cf"),a("3040")),o=a("2f62");n["a"].use(o["a"]);var l="/api",c={buildings:[],usage:[],quality:null},u=new o["a"].Store({state:c,mutations:{updateBuildings:function(t,e){t.buildings=e},updateUsage:function(t,e){t.usage=e},updateQuality:function(t,e){t.quality=e}},actions:{fetchBuilding:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.prev=1,t.next=4,n["a"].axios.get("".concat(l,"/building"));case 4:s=t.sent,a("updateBuildings",s.data),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.error("api fetch error",t.t0);case 11:case"end":return t.stop()}},t,this,[[1,8]])}));return function(e){return t.apply(this,arguments)}}(),fetchUsage:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.prev=1,t.next=4,n["a"].axios.get("".concat(l,"/usage"));case 4:s=t.sent,a("updateUsage",s.data.data),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.error("api fetch error",t.t0);case 11:case"end":return t.stop()}},t,this,[[1,8]])}));return function(e){return t.apply(this,arguments)}}(),fetchQuality:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.prev=1,t.next=4,n["a"].axios.get("".concat(l,"/quality"));case 4:s=t.sent,a("updateQuality",s.data),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.error("api fetch error",t.t0);case 11:case"end":return t.stop()}},t,this,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()}}),d=n["a"].extend({created:function(){u.dispatch("fetchUsage"),u.dispatch("fetchQuality"),u.dispatch("fetchBuilding")}}),f=d,b=(a("60ee"),a("547e"),a("98a4"),a("7cc5"),a("2877")),p=Object(b["a"])(f,s,i,!1,null,"961c6058",null);p.options.__file="App.vue";var v=p.exports,h=a("8c4f"),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row about full"},[a("div",{staticClass:"col-lg-8 p-0"},[a("GmapMap",{staticClass:"google-map",attrs:{center:{lat:25.0353033,lng:121.5154192},zoom:15}},t._l(t.buildings,function(e){return a("GmapMarker",{key:e.buildingid,attrs:{position:t.getPosition(e),clickable:!0,draggable:!0},on:{click:function(a){t.onBuilding(e.buildingid)}}})}))],1),a("div",{staticClass:"col-lg-4 p-0"},[a("SensorPanel",{staticClass:"panel"})],1)])},m=[],j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade",mode:"out-in"}},[t.isTank?a("TankDetailPanel",{key:"p2",attrs:{tank:t.currentTank,building:t.currentBuilding},on:{onBack:t.prev}}):a("BuildingListPanel",{key:"p1",attrs:{list:t.statusGroup},on:{onTank:t.onTank}})],1)},_=[],k=a("612d"),y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("WidgetPanel",{staticClass:"mb-0",attrs:{title:"感應器列表","no-border":""}},[a("div",{staticClass:"d-flex flex-column"},[a("div",{staticClass:"scroll"},t._l(t.list,function(e,n){return a("GroupAccrodian",{key:n,attrs:{label:n+" ("+e.length+")"}},[a("BuildingData",{attrs:{data:e},on:{onTank:t.onTank}})],1)}))])])},C=[],w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ibox",class:t.panelClass},[a("div",{staticClass:"ibox-title"},[t._t("pre"),a("h5",[t._v(t._s(t.title))])],2),a("div",{staticClass:"ibox-content",class:t.panelClass},[t._t("default")],2)])},x=[],O=n["a"].extend({props:{title:{type:String},noPadding:{type:Boolean,default:!1},noBorder:{type:Boolean,default:!1},flex:{type:Boolean,default:!1}},computed:{panelClass:function(){return{"no-padding":this.noPadding,"no-border":this.noBorder,flex:this.flex}}}}),B=O,D=(a("a1fb"),Object(b["a"])(B,w,x,!1,null,"35c1fb08",null));D.options.__file="WidgetPanel.vue";var z=D.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"group-accrodian",class:t.groupClass},[a("div",{staticClass:"title",on:{click:t.toggleOpen}},[a("i",{staticClass:"fa fa-caret-right"}),a("h3",{staticClass:"status d-inline-block"},[t._v(t._s(t.label))])]),a("div",{staticClass:"body"},[t._t("default")],2)])},$=[],P=n["a"].extend({props:{label:{type:String,required:!0}},computed:{groupClass:function(){return{open:this.open}}},data:function(){return{open:!0}},methods:{toggleOpen:function(){this.open=!this.open}}}),q=P,E=(a("4200"),Object(b["a"])(q,T,$,!1,null,"7674c093",null));E.options.__file="GroupAccrodian.vue";var S=E.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"building-data"},t._l(t.data,function(e){return a("div",{key:e.buildingid,staticClass:"building"},[a("div",{staticClass:"name",on:{click:function(a){t.onBuilding(e.buildingid)}}},[t._v(t._s(e.buildingname))]),a("ul",{staticClass:"sensors"},t._l(t.reverse(e.tanks),function(n){return a("li",{key:n.id,staticClass:"sensor",class:t.tankClass(n),on:{click:function(a){t.onTank({tankid:n.tankid,buildingid:e.buildingid})}}},[t._v(t._s(t._f("floor")(n.floor))+" 水塔")])}))])}))},L=[];function U(t){return t>0?"".concat(t," F"):"B".concat(-t," F")}var G=n["a"].extend({props:{data:{type:Array,required:!0}},filters:{floor:U},methods:{reverse:k["reverse"],onTank:function(t){this.$emit("onTank",t)},tankClass:function(t){return t.waterlevel>60?"":"danger"},onBuilding:function(t){this.$router.push("/building/".concat(t))}}}),N=G,W=(a("cf9c"),Object(b["a"])(N,A,L,!1,null,"4d2c0709",null));W.options.__file="BuildingData.vue";var M=W.exports,F=n["a"].extend({components:{WidgetPanel:z,GroupAccrodian:S,BuildingData:M},props:{list:{type:Object,required:!0}},methods:{onTank:function(t){this.$emit("onTank",t)}}}),Q=F,J=(a("7da6"),Object(b["a"])(Q,y,C,!1,null,"22223412",null));J.options.__file="BuildingListPanel.vue";var I=J.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("WidgetPanel",{key:"p2",staticClass:"mb-0",attrs:{title:t.floor(t.tank.floor)+"水塔","no-border":""}},[a("GroupAccrodian",{attrs:{label:"Information"}},[a("div",{staticClass:"form-group"},[a("label",[t._v("Location")]),a("a",{staticClass:"d-block data",attrs:{target:"_blank",href:"https://www.google.com.tw/search?q="+t.location}},[t._v(t._s(t.location))])]),a("div",{staticClass:"form-group"},[a("label",[t._v("Building ID")]),a("div",{staticClass:"data"},[t._v(t._s(t.building.buildingname))])]),a("div",{staticClass:"form-group"},[a("label",[t._v("Building Address")]),a("div",{staticClass:"data"},[t._v(t._s(t.building.buildingaddress))])]),a("div",{staticClass:"form-group"},[a("label",[t._v("Water Level")]),a("div",{staticClass:"data"},[t._v(t._s(t.waterLevel)+" %")])])]),a("GroupAccrodian",{attrs:{label:"Action"}},[a("label",{staticClass:"d-inline-block mt-2"},[t._v("Motor")]),a("div",{staticClass:"switch"},[a("div",{staticClass:"onoffswitch"},[a("input",{staticClass:"onoffswitch-checkbox",attrs:{id:"ex-1",type:"checkbox",checked:""}}),a("label",{staticClass:"onoffswitch-label",attrs:{for:"ex-1"}},[a("span",{staticClass:"onoffswitch-inner"}),a("span",{staticClass:"onoffswitch-switch"})])])])]),a("template",{slot:"pre"},[a("div",{staticClass:"prev d-inline-block",on:{click:t.prev}},[a("h5",{staticClass:"mr-2 back"},[t._v(t._s(t.building.buildingname))]),a("h5",{staticClass:"mr-2"},[t._v(">")])])])],2)},V=[],Z=n["a"].extend({props:{tank:{type:Object,required:!0},building:{type:Object,required:!0}},components:{WidgetPanel:z,GroupAccrodian:S},computed:{waterLevel:function(){var t=Object(k["maxBy"])(function(t){return t.tstamp}),e=t(this.tank.records);return e?e.waterlevel:-1},location:function(){return this.building?"E".concat(this.building.longitude,"  N").concat(this.building.latitude):""}},methods:{floor:U,prev:function(){this.$emit("onBack")}}}),H=Z,K=(a("2828"),Object(b["a"])(H,R,V,!1,null,"e0d3f1e2",null));K.options.__file="TankDetailPanel.vue";var X=K.exports,Y=n["a"].extend({data:function(){return{tankData:null}},components:{BuildingListPanel:I,TankDetailPanel:X},computed:{statusGroup:function(){var t=Object(k["filter"])(function(t){return t.waterlevel<60});return{"水位過低":Object(k["filter"])(function(e){return t(e.tanks).length>0},u.state.buildings),"水位正常":Object(k["filter"])(function(e){return 0===t(e.tanks).length},u.state.buildings)}},isTank:function(){return!!this.tankData},currentBuilding:function(){var t=this;if(null==this.tankData)return null;var e=Object(k["find"])(function(e){return e.buildingid===t.tankData.buildingid});return e(u.state.buildings)||null},currentTank:function(){var t=this;if(null==this.currentBuilding)return null;console.log(this.currentBuilding,this.tankData,this.tankData.tankid);var e=Object(k["find"])(function(e){return e.tankid===t.tankData.tankid});return e(this.currentBuilding.tanks)||null}},methods:{onTank:function(t){console.log("tankkk",t),this.tankData=t},prev:function(){this.tankData=null}}}),tt=Y,et=(a("ed62"),Object(b["a"])(tt,j,_,!1,null,"7d2d4ff6",null));et.options.__file="SensorPanel.vue";var at=et.exports,nt=n["a"].extend({components:{SensorPanel:at},computed:{options:function(){return{strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35}},buildings:function(){return u.state.buildings}},methods:{getPosition:function(t){return{lat:t.latitude,lng:t.longitude}},onBuilding:function(t){this.$router.push("/building/".concat(t))}}}),st=nt,it=(a("34b1"),Object(b["a"])(st,g,m,!1,null,"9d038076",null));it.options.__file="MapView.vue";var rt=it.exports,ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-3"},[a("h4",{staticClass:"back",on:{click:t.back}},[t._v("Back")]),a("h1",[t._v(t._s(t.building.buildingname))]),a("GroupAccrodian",{attrs:{label:"Information"}},[a("div",{staticClass:"form-group"},[a("label",[t._v("Location")]),a("a",{staticClass:"d-block data",attrs:{target:"_blank",href:"https://www.google.com.tw/search?q="+t.location}},[t._v(t._s(t.location))])]),a("div",{staticClass:"form-group"},[a("label",[t._v("Building ID")]),a("div",{staticClass:"data"},[t._v(t._s(t.building.buildingname))])]),a("div",{staticClass:"form-group"},[a("label",[t._v("Building Address")]),a("div",{staticClass:"data"},[t._v(t._s(t.building.buildingaddress))])])])],1),a("div",{staticClass:"col-lg-9"},t._l(t.tanks,function(e){return a("div",{staticClass:"v"},[a("h3",[t._v(t._s(t._f("floor")(e.floor)))]),a("TankChart",{attrs:{data:e.records}})],1)}))])},lt=[],ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ChartJs",{attrs:{data:t.chartData,min:40,"not-zero":"",yUnit:"百分比"}})},ut=[],dt=a("9393"),ft=a("c1df"),bt=a.n(ft),pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("canvas",{attrs:{width:"900",height:"200"}})},vt=[],ht=(a("c5f6"),a("5b20")),gt=a.n(ht),mt=n["a"].extend({props:{data:{type:Object,required:!0},type:{type:String,default:"line"},notZero:{type:Boolean,default:!1},min:{type:Number,default:-1},xUnit:{type:String},yUnit:{type:String}},watch:{data:{handler:function(t){this.makeChart(t)}}},methods:{makeChart:function(t){var e=this.$el,a={scales:{yAxes:[{ticks:{beginAtZero:!this.notZero,suggestedMin:this.min>=0?this.min:void 0},scaleLabel:{display:null!=this.yUnit,labelString:this.yUnit}}],xAxes:[{scaleLabel:{display:null!=this.xUnit,labelString:this.xUnit}}]},legend:{display:!1}};new gt.a(e,{type:this.type,data:t,options:a})}},mounted:function(){this.makeChart(this.data)}}),jt=mt,_t=Object(b["a"])(jt,pt,vt,!1,null,null,null);_t.options.__file="ChartJs.vue";var kt=_t.exports,yt=n["a"].extend({props:{data:{type:Array,required:!0}},components:{ChartJs:kt},computed:{last:function(){var t=this.data.slice(-1),e=Object(dt["a"])(t,1),a=e[0];return a},isDanger:function(){return this.last.waterlevel<60},filteredData:function(){return this.hourData.slice(-24)},hourData:function(){return Object(k["map"])(function(t){return{time:bt()(t.tstamp).format("k[:00]"),waterlevel:t.waterlevel,waterquality:t.waterquality}},this.data)},chartData:function(){return{labels:this.filteredData.map(function(t){return t.time}),datasets:[{data:this.filteredData.map(function(t){return t.waterlevel}),backgroundColor:"transparent",borderColor:this.isDanger?"red":"#007bff",borderWidth:4,pointBackgroundColor:"#007bff"},{data:this.filteredData.map(function(t){return t.waterquality}),backgroundColor:"transparent",borderColor:"limegreen",borderWidth:4,pointBackgroundColor:"limegreen"}]}}}}),Ct=yt,wt=Object(b["a"])(Ct,ct,ut,!1,null,null,null);wt.options.__file="TankChart.vue";var xt=wt.exports,Ot=n["a"].extend({props:{id:{type:String,required:!0}},components:{TankChart:xt,GroupAccrodian:S},filters:{floor:U},computed:{tanks:function(){return this.building?Object(k["reverse"])(this.building.tanks):[]},building:function(){var t=this,e=Object(k["find"])(function(e){return e.buildingid===t.id},u.state.buildings);return e||null},data:function(){return this.tanks.map(function(t){return t.records})},location:function(){return this.building?"E".concat(this.building.longitude,"  N").concat(this.building.latitude):""}},methods:{back:function(){this.$router.push("/map")}}}),Bt=Ot,Dt=(a("0641"),Object(b["a"])(Bt,ot,lt,!1,null,"677236d8",null));Dt.options.__file="BuildingView.vue";var zt=Dt.exports,Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("WidgetPanel",{attrs:{title:"台北市用水品質"}},[t.qualityData?a("QualityChart",{staticClass:"chart",attrs:{data:t.qualityData}}):t._e()],1)],1),a("div",{staticClass:"col-lg-12"},[a("WidgetPanel",{attrs:{title:"台北市用水量"}},[t.usageData?a("UsageChart",{staticClass:"chart",attrs:{data:t.usageData}}):t._e()],1)],1)])},$t=[],Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ChartJs",{attrs:{data:t.usageData,type:"bar",min:2e3,"not-zero":""}})},qt=[],Et=n["a"].extend({props:{data:{type:Array,required:!0}},components:{ChartJs:kt},computed:{usageData:function(){var t=this.data.map(function(t){return t.area}),e=[{data:this.data.map(function(t){return t.daytime}),backgroundColor:"#b6e6e6"},{data:this.data.map(function(t){return t.nighttime}),backgroundColor:"#5cb3b3"}];return{labels:t,datasets:e}}}}),St=Et,At=Object(b["a"])(St,Pt,qt,!1,null,null,null);At.options.__file="UsageChart.vue";var Lt=At.exports,Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ChartJs",{attrs:{data:t.usageData,min:96.85,"not-zero":""}})},Gt=[],Nt=n["a"].extend({props:{data:{type:Object,required:!0}},components:{ChartJs:kt},computed:{usageData:function(){var t=Object(k["keys"])(this.data),e=Object(k["toArray"])(this.data),a=[{data:Object(k["map"])(function(t){return Object(k["mean"])(t)},e)}];return{labels:t,datasets:a}}}}),Wt=Nt,Mt=Object(b["a"])(Wt,Ut,Gt,!1,null,null,null);Mt.options.__file="QualityChart.vue";var Ft=Mt.exports,Qt=n["a"].extend({components:{WidgetPanel:z,UsageChart:Lt,QualityChart:Ft},computed:{usageData:function(){return u.state.usage},qualityData:function(){return u.state.quality}},created:function(){}}),Jt=Qt,It=(a("6576"),Object(b["a"])(Jt,Tt,$t,!1,null,"34ce84e9",null));It.options.__file="DashboardView.vue";var Rt=It.exports,Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("SidbarNav"),a("div",{staticClass:"gray-bg",attrs:{id:"page-wrapper"}},[a("TopNavbar",{on:{navToggle:t.navToggle}}),a("div",{staticClass:"wrapper wrapper-content"},[a("router-view")],1)],1)],1)},Zt=[],Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar-default navbar-static-side",attrs:{role:"navigation"}},[a("div",{staticClass:"sidebar-collapse"},[a("ul",{staticClass:"nav metismenu",attrs:{id:"side-menu"}},t._l(t.menuItems,function(e){return a("li",{key:e.href+e.label},[a("router-link",{attrs:{to:e.href}},[a("i",{staticClass:"fa",class:e.icon}),a("span",{staticClass:"nav-label"},[t._v(t._s(e.label))])])],1)}))])])},Kt=[],Xt=a("b71d"),Yt=n["a"].extend({computed:{menuItems:function(){return[{href:"/map",label:"Map",icon:"fa-map"},{href:"/",label:"Dashboard",icon:"fa-diamond"}]}},mounted:function(){var t=new Xt["a"](this.$el);t.init()}}),te=Yt,ee=(a("fe3a"),Object(b["a"])(te,Ht,Kt,!1,null,"402910a0",null));ee.options.__file="SidebarNav.vue";var ae=ee.exports,ne=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},se=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"footer fixed"},[a("div",{staticClass:"pull-right"},[t._v("\n    10GB of "),a("strong",[t._v("250GB")]),t._v(" Free.\n  ")]),a("div",[a("strong",[t._v("Copyright")]),t._v(" Example Company © 2014-2018\n  ")])])}],ie={},re=Object(b["a"])(ie,ne,se,!1,null,null,null);re.options.__file="FooterContent.vue";var oe=re.exports,le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row border-bottom nav-top"},[a("nav",{staticClass:"navbar navbar-static-top white-bg",staticStyle:{"margin-bottom":"0"},attrs:{role:"navigation"}},[a("div",{staticClass:"navbar-header"},[a("a",{staticClass:"navbar-minimalize minimalize-styl-2 btn btn-primary ",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.toggleNavbar(e)}}},[a("i",{staticClass:"fa fa-bars"})])])])])},ce=[],ue=n["a"].extend({methods:{toggleNavbar:function(){this.$emit("navToggle")}}}),de=ue,fe=(a("60d8"),Object(b["a"])(de,le,ce,!1,null,"87e7f362",null));fe.options.__file="TopNavbar.vue";var be=fe.exports,pe=n["a"].extend({data:function(){return{}},components:{SidbarNav:ae,TopNavbar:be,FooterContent:oe},methods:{navToggle:function(){document.body.classList.toggle("mini-navbar")},setBodySizeClass:function(t){t<769?document.body.classList.add("body-small"):document.body.classList.remove("body-small")}},created:function(){var t=this;document.body.classList.add("skin-1"),this.setBodySizeClass(window.innerWidth),window.addEventListener("resize",function(){t.setBodySizeClass(window.innerWidth)})},destroyed:function(){document.body.classList.remove("skin-1")}}),ve=pe,he=(a("1420"),a("94e9"),Object(b["a"])(ve,Vt,Zt,!1,null,null,null));he.options.__file="Index.vue";var ge=he.exports;n["a"].use(h["a"]);var me=new h["a"]({routes:[{path:"/",component:ge,children:[{path:"map",name:"MapView",component:rt},{path:"building/:id",name:"BuildingView",component:zt,props:!0},{path:"",name:"DashboardView",component:Rt}]}]}),je=a("755e"),_e=a("bc3a"),ke=a.n(_e),ye=a("a7fe"),Ce=a.n(ye);n["a"].use(Ce.a,ke.a),n["a"].config.productionTip=!1,n["a"].use(je,{load:{key:"AIzaSyCat0pc88QZsHUNqBQbLpGX0KiL6Fw6TQw"}}),new n["a"]({router:me,store:u,render:function(t){return t(v)}}).$mount("#app")},cf9c:function(t,e,a){"use strict";var n=a("8117"),s=a.n(n);s.a},e21e:function(t,e,a){},e849:function(t,e,a){},ed62:function(t,e,a){"use strict";var n=a("0e17"),s=a.n(n);s.a},fe3a:function(t,e,a){"use strict";var n=a("1ed0"),s=a.n(n);s.a}});
//# sourceMappingURL=app.f87fbaeb.js.map